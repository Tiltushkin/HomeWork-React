@use "../../styles/variables" as *;

.wrapper { display:flex; flex-direction:column; gap:8px; position:relative; }
.label { font-size:12px; opacity:.7; letter-spacing:.3px; }

.trigger {
    width:100%; text-align:left; padding:10px 42px 10px 12px;
    border-radius:12px; background:rgba(255,255,255,.06); color:$card-text-color;
    border:1px solid rgba(255,255,255,.12); cursor:pointer; transition:.2s ease; position:relative;
    &:hover {
        border-color:rgba(255,255,255,.2); transform:translateY(-1px);
    }

    &:focus-visible {
        outline:none; border-color:rgba(59,130,246,.5); box-shadow:0 0 0 4px rgba(59,130,246,.18);
    }
}

.disabled {
    opacity:.6;
    cursor:not-allowed;
    &:hover {
        transform:none;
    }
}

.value {
    pointer-events:none;
}

.chevron {
    position:absolute;
    right:12px;
    top:50%;
    transform:translateY(-50%) rotate(0);
    opacity:.8;
    transition:transform .2s ease;
}

.open {
    transform:translateY(-50%) rotate(180deg);
}

.dropdown {
    position:absolute; z-index:50; top:calc(100% + 8px); left:0;
    width:clamp(320px, 40vw, 520px);
    max-height:320px; overflow:auto; padding:8px; border-radius:14px;
    background:rgba(2,6,23,.9); backdrop-filter:blur(8px);
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
    animation:pop .12s ease-out;

    * {
        word-break: normal;
        overflow-wrap: break-word;
    }
}

@keyframes pop {
    from {
        transform:translateY(-4px);
        opacity:0;
    } to {
        transform:translateY(0);
        opacity:1;
    }
}

.item {
    display:flex;
    align-items:center;
    gap:12px;
    padding:10px;
    border-radius:10px;
    color:$card-text-color;
    cursor:pointer;
    transition: background .15s ease, border .15s ease, transform .15s ease;
    border:1px solid transparent;

    &:not(:last-child) {
        margin-bottom:6px;
    }

    &.active {
        background:rgba(59,130,246,.14);
        border-color:rgba(59,130,246,.35);
    }

    &.selected {
        background:rgba(59,130,246,.20);
        border-color:rgba(59,130,246,.50);
    }
}

.left {
    display:flex;
    align-items:center;
    gap:10px;
    flex:1 1 auto;
    min-width:0;
}

.avatar {
    width:28px;
    height:28px;
    border-radius:8px;
    display:grid;
    place-items:center;
    font-size:13px;
    font-weight:700;
    background:linear-gradient(180deg, rgba(148,163,184,.25), rgba(148,163,184,.12));
    border:1px solid rgba(148,163,184,.3);
    color:$card-text-color;
}

.meta {
    min-width:0;
}

.title {
    font-size:14px;
    line-height:1.2;
    white-space: nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.sub {
    margin-top:4px;
    font-size:12px;
    opacity:.75;
    white-space:nowrap;
    overflow:hidden; text-overflow:ellipsis;
}

.right {
    flex:0 0 160px;
    min-width:120px;
    display:flex;
    align-items:center;
    gap:8px;
}

.progress {
    flex:1 1 auto;
    height:8px;
    border-radius:999px;
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.12);
    overflow:hidden;
}

.bar {
    height:100%;
    border-radius:999px;
    background:linear-gradient(90deg, rgba(16,185,129,.85), rgba(16,185,129,.55));
}

.pct {
    font-size:12px;
    opacity:.85;
    min-width:26px;
    text-align:right;
}

.check {
    font-weight:900;
    opacity:.9;
    margin-left:4px;
}

@media (max-width: 420px) {
    .dropdown { width:min(96vw, 420px); }
    .right { flex-basis:120px; }
    .pct { display:none; }
}